language: python

python: 
  - 3.6.4

services: 
  - postgresql

env:
    global: # secret key, dbname, user, password, url, host, allowedhosts
      - secure: "Z+eJGQtgLe4ny2G77lQdm7RuXMAtgEsTFd3cB1dkhvLlTQFNZgxgQpeZVryxZK8NYJ2dRp4ZbNMzOShBApx2XjFKqnXR4X7la8ewARJi8OctY+g2aC8L1c5OzX957TiYDtBOu1QabrKzO2K0PJbNtiLvK9COTmL/Z1XBR4EZiZR64vvvrNJFk84WvTn8AOZ0D8qd5kJIgv9HJllsjV6rZiaiyiqRy125JZ9EKlGr/YUsaDi3uP0OKPGbYrIdqXZWpVHgRKgifNZgCUXfUnV93PBKqNUvxXjs4ZcNY65ZCGgB0IPqkrpUZk+FUkZ3Af77JvXjhoT5JjzfY6zjDvYQHQSlWW1Z+m9Lt67pkJU6WJThIEk7E+8wIjH4LHwgqQ+jWQkXddIMZfNu6mW32/ZIaEz7QBMEPlW+9hXO3NuSKSO2CR6dojbobmmnSxBTzZ1AaTWsvC7jk/NK4lDZvmq+VdMNVu98G0fl89+euXDPN0b7s1IDDR1xmm/fJayluQfaqceE/YFNRDQty3c1aWa/xMQsK7Y3m0qdzkKV7S1faGp8szW2LhrBvHhGE8YX9XPGUbxqOuH6bldGkeLujqmTBOYXqbCmStdndlxbLvJf1UGsJfBybZv+injWeTHVuRjf5OvuNEgenWsD0+28ZYeODGNs4knFn0df/Rjj60NCiiQ=" 
      - secure: "HMd2pLmYbfMVYLhAAUiFUmAxrCZqXvYe7sX9UsPUQpnAFt275g7a2cUQKK3luGo7yw4Q0ZuXz+Q9rgWDnXn6KrDjwdlP1goAHarWlJsqdN4IHPQmjtd+Wq/qwzER6eiEEX+XNcc3qTkZQXGCUL71qI2gvoFnZDpQiK/4f1V457A+AucIo9uCa60I8JL1+WvdL9KzLuhcxlFKiOsfzqXAZNE1n+jzobOg1kpJLbn2C8Wu6pc0i7WjZG5/1E/kr2OAiNcrdm3sqKCMjTllgtZizDHO8BtUeBM7kd9cRqwyDFUTt+D8YA2aDtOrmVATkY42Ae/vLGWHRSgoA00WPKBFFcErMCEobq7vFRPp0ueALdWhAnh+cGvnY6fmktu0PnoVacmIddIaVXxj4srRHti37Jf2ALfq8avD7rlIk3GshcHpOYz8aQ+pJ5Pt/4Vkr8GK01z4/6sl1oJonrUdzaE+KGoP7ggcdddoKPE1rO+6vFHYlnW9mh7kpyzYtZMbp9EcDfmt2v1UPGwIKacR68U5/DcA4YTYV6l0l1TNRUJsChmUWE7OGg/iDptIDesoJtZw5jyrD+nGrnYZXVg+M3iu8FaTo61SzRetgaRlRa6q2JVYNjNOXVrFsLU6/ZRo5o56Phj0g4sNoE6jXWxBuJ5yEudr0oOiEhspXfYub+3YB+Q="
      - secure: "R7xgP1SuMACidNltM3HmZP2FL5Rc6rI6/PirzBfQUyjpMJDU5R6D3+3d/aUMdDWPteGmmTjGGCQ8XxRQhyiy89VGMLmEjhBrVoclU/IGWmhzXl5616HayKqPxR/j/r5ZkqwwQy3JM6Ruh9D6VMFHCxIEyZbbMMu0YEHJno7yad2TwObSfTAQuc20z238KfVf/fFDTnHdss7o/6y8gKzekbufQzL/G6ykwEIzv/7q9uopoNToUFlPN5CpVKu3Pi0RwdI9l0tQ8MoAPyQaea7PbdEoC4GMZ2wRJhHdRbD/n8SLafjK0ceWm1p1eWnr9WKyREw/7bc2WFWPtbGf6sDtX6fHABTDWiQYvATAT2n9z6r6cMIEWDHzugDzquWtnLL0OtHw7xizNXDv3LEj+gQXI8NXyivqazKfClA4FK2zug8qPFEoqSBcGZmIeUwtbFTXj2O1NLgzdh2L8ayzBU6rb6u0LLgLLtGUDtpzJod04+i6jHjIflB+lIcDsfQE90wcmSEbc/mWdwhBkBerjjeAkHAiyuU2WC9WOEEo1ovubyiL+ronOE5ybwl+hwjWbgMj2dQhxwIcC0KHknqPf9ow/R8fRqARHNKhcygkw7WeFxYgEVq1dLhtt6kn7OUIVLFVkd30QZg+zgkwUVQJjwAiQhBDD9bHtMOiTgEbBYp6KO0="
      - secure: "mGoZh83GqerBnZ62G3WRlINobfp8JVNL2jpTpfKohNXZ+CLsgbQK2FA71wNqwuxyWxeZVIVlGRPCjvGOiFsh4p3CKJNs36NV6NtQBIZDMfPSx8bsltA6OgTbs5JdyIFjy+zL3LrSRQnvSnt9jwZd+xtojwb8Nn8h5ZKjr98+b3GI0W0bFg2eIoUY/cXRUM35EV+9pBPA85+/CYDJzeJEJsHpQWfeNPVUt5vy2EepInbzAjhqsqaIJNSrKo2lUcNhzsiL2+7Yw+VrA/JVJA6BrYnre33i2x4jc860dBqLUuO//mO2vGwc/ivyBM9tuKRnT/gYftwFxOustYENoszw/94qw34MuvgXP95IcYVvjaNTG26+Lrdd3DqDPDhGasTV8zEfkxtOM2oKzwr8e9jXe4t/BMBlM/0qiyFhi++Ju6o9Ei+y4+0tkQK15Z8uRj/+FuPXownKeJmyOlBMa1pjvwWBnb0HnwtwhAcM8DiJFau/BhG2d/YAj50RG9iXM4WVw3dLBMwwYZK3kZoTZ5LBBQke0clk5tllpVYAzmsIAyIsjQzv/24GlepD/BFtnWrlcpvYXbkxgU2RjVSsEC3Rtj2OkV9dyEvbqVVtw6SYjrr0DawBvJzl9LpUkvDd9yKV73xb96Bfku/TwS9pz9/9g3gzeVFkGCbrqMOjRkZ/JK4="
      - secure: "NAAquC39zHAeJjS42LdtKsCVEJEkfipJBEhjH/BS+R2XYxY66oXxiSHY+T8rGq5gh+bBnQuSX+AA22fM0ARM8GZIMHIjMz43dM0RM3ojPoW1onIgFR8WuHmROofA+or96Krk1p0qYVXnbHsDaW748twJB5eg7SVXboR84DG44pKrehR0C0nnLZcJCU+F2hCULbZV0+wlezwQLeXANGZ6HJnhZZEBxq2jAfBu97cVrFPhHA7uI8KJFK7rr8Q37xXpzR56Fr2PXf+seqsU6gdfW5RCCT8UzepSDhBVxtJqdDtDZpxXRxa4ae6muzhQsGrcC5gYgT8peT5tfcyKD9g8KciWXMy4/rk9xpKeNdryIH8zeM5WVMsCjO2gioPoBmvwdN41FvRMcn37xA5+11gUHqccY9nR0yKbYGQvZW3U7SRx9fVVh5xJiqo8xlqU7LTyfewB+MlgMOEfiArsfD4l/ShOKKPkdDY/50CLYl8dgA8Xecquzx2Ix69nayzhI2Y+yWda9MIeKQjUvT8J6ZPqUxA7583RamrvAdF4FdievooXQCZRbJxwupgk0KCGN5tpEJAlGf510jCHmZ8GegiXmo4gVBcU0wmwih5/uTL4hBL/N0CtvsiDC4c9G7MQeeeY2dAYjjEBnuuMa/VaUrxf4EVVI+H25Z/wZNqPSMvtSbY="
      - secure: "ZitNm+reIOt19ZdgSYhoCHLABBL2Dm5CqNYFupdaDO3m3foiJWlkruIaZRr4I42dK6j3r4dgIDTHGqYpjoiMgYBpAZfp7AolgzNI8MCRyxEhG18wTN/4YAouHWW1+TGE6kujcplUxv7d8QGBg2kW2mbLpr06IMaJep5DB0a6I299XA620SuDBRFrevsMojOmHoDgfhDYiAUE2hM9MeBGUaHmpV3YNBiYZ/A5oKWmog03i4VXqh3aUvsPskq34O991MG8mX3LAe5i+Mix0dSicznSuoYEkUg2pWsKsmXw0JJzU7vbIvoNZNUvsaL20YkdkP0q5E2YRxge0xjq91cspaLboqovQKRUfJKUIRIjS5pIDDh5db3lU/DhGGnLrilJ6ApMCiKOF5wjOLKSov7+lDVetyxJOoVEJXE6hNFho/02xeb+jViVePpx+s0JR1bmIeHGwLYMt4QjQSIiUi4cR6jTHDDK6n02q6L7YvTu44uAQe6CzCUXx1bwtWnPTgtX4TCK+NpVt0cocxjh/TgfQdiXrczUDcPTK/c3NhqD2I8SNqdYtcBCN+EMvU2VaMdTiyBXHH38F9KblA7cksXJ/f5UmyCEa2YH499mu8x17t1MuNPctnHuFZY/vPWVwnb15QNJrdtWXxudHJ417ilphLLFYs72htgXIgaGN0+tCJ8="
      - secure: "XkQQY0N0gzub1zKmH8mKjKVSB9CpeLlJj3JcJwd8zjmAOi5AfKRIuvtSvjG7qTdj4zymV9ZPVoQpaMpspO5VrX0AmC2Wj/m4xr+iRo27vUAIuG1yaFXJag9S67CSyfmRYsmxHnyW/lXKr7ghkeqsCNUrg/zk7CKfcpHxUBYhcA8IytTNFmQ44irBubdINWxwNgCnTKJf8ZyE/f+UAmvmCzKH2S11wC1KyNqfPYZOPZMwhJ04OMH+fSwTaARQ4SnB3uT2/WGyjfcNs0yXXaFPpUb7DXCpQj5AlSrWvbFd7wJOor/EICFfFB1j4QU+wwIV+k6aO9oGwtHJfvymlk+sowRHSdd5YzZn8XU2TJKJjx4qfS5LXVBMiQzlYFY9lbCmkb+1bJawUuaIPZ91lmhe3xQrfoQTFaTO4dP+GvCRHSJTyPJ9jTzyrZzq0ZYI+ennpysMinSjFVQZ1h9P1Wg5MBJQV+MeKQfYTyjveePhWYOJB22B2r5nPd577lVaQJ53JsHRjMU6K5a1VvI3rTgUt+c/G0UqeJuiH+tJ95itqhctcrf0Fr1E3trzwkSdO053aOj5iAbKFpkF3FPDw6K1Jgkiu5USYya0jvOqBcR6Mz/UelVy5B1CxPmruRxY4lBDi2FQYiJ1AtwHHEQYNWdd640RQdZE9pFpB0mQfkk7wDk="
      - DJANGO=2.0.2 DB=postgresql DEBUG=False 

install:
- pip install -r requirements.txt

before_script:
#- psql -c "CREATE DATABASE cidb;" -U postgres

script:
- python manage.py test mainapp
